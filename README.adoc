= Base Service
www.jgayb.com;
:toc: left
:toc-title: 章节
:doctype: book
:icons: font
:source-highlighter: highlightjs

== 简介

Mybatis、通用mapper、Jpa的Base Service，实现了基本的CRUD。

== Mybatis BaseService使用介绍

=== 构建工具依赖
*Gradle工程*
[source, groovy]
----
repositories {

    ...
    maven { url "https://raw.githubusercontent.com/jgaybjone/mvnrepo/master" }
    mavenCentral()
}

dependencies {
	compile 'cn.jgayb:mybatis-service:1.0-RELEASE'
}

----
*Maven工程*
[source, xml]
----
  <repositories>
    <repository>
      <id>jgayb</id>
      <name>jgayb Repository</name>
      <url>https://raw.githubusercontent.com/jgaybjone/mvnrepo/master</url>
    </repository>
  </repositories>

  <dependency>
    <groupId>cn.jgayb</groupId>
	<artifactId>mybatis-service</artifactId>
	<version>1.0-RELEASE</version>
  </dependency>

----
=== 使用方法
*自己的Mapper继承IMapper接口*
[source, java]
----
public interface UserMapper extends IMapper<User> {

	User selectById(String id);

	void update(User user);

}
----

*自己的Service继承BaseService*
[source,java]
----

public interface UserService extends BaseService<User> {

}

----

*实现类*
[source,java]
----
@Service
public class UserServiceImpl implements UserService{

    @Autowird
    private UserMapper userMapper;

    @Override
    public UserMapper getMapper(){
        return this.userMapper;
    }

    @Override
    @Transactional
    public void crudAndConsumer(Consumer<UserMapper> consumer){
        consumer.accept(userMapper);
    }

    ...

}
----
